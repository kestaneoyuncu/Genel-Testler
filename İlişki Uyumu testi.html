<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>İlişki Uyumu Testi</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f9fc;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    .container {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 600px;
      padding: 30px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    #startScreen {
      color: #e74c3c;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 20px;
      user-select: none;
    }
    #startBtn {
      background-color: #e74c3c;
      border: none;
      color: white;
      padding: 15px 40px;
      font-size: 20px;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.3s;
      user-select: none;
    }
    #startBtn:hover {
      background-color: #c0392b;
    }
    h2 {
      margin-bottom: 20px;
      color: #222;
    }
    .options {
      display: flex;
      justify-content: space-between;
      margin: 20px 0;
    }
    label {
      cursor: pointer;
      flex: 1;
      margin: 0 5px;
      background: #e1e8f7;
      padding: 12px 0;
      border-radius: 8px;
      transition: background-color 0.3s;
      user-select: none;
    }
    input[type="radio"] {
      display: none;
    }
    input[type="radio"]:checked + label {
      background-color: #5c91f3;
      color: white;
      font-weight: bold;
      box-shadow: 0 0 10px #5c91f3cc;
    }
    button#nextBtn {
      background-color: #5c91f3;
      border: none;
      color: white;
      padding: 12px 28px;
      font-size: 18px;
      border-radius: 10px;
      cursor: pointer;
      transition: background-color 0.3s;
      user-select: none;
      display: none;
    }
    button#nextBtn:hover {
      background-color: #3f6fe2;
    }
    #result {
      font-size: 22px;
      font-weight: bold;
      color: #333;
      margin-top: 30px;
      min-height: 100px;
      opacity: 0;
      transition: opacity 0.8s ease;
    }
    .fade-out {
      opacity: 0;
      transform: translateX(-30px);
      transition: all 0.3s ease;
    }
    .fade-in {
      opacity: 1;
      transform: translateX(0);
      transition: all 0.3s ease;
    }
  </style>
</head>
<body>
  <div class="container">

    <div id="startScreen">
      Sevgilisi olmayanlar bu testi çözmesin, adresinizi bulurum 
    </div>
    <button id="startBtn">Başla</button>

    <h2 id="question" style="display:none;"></h2>
    <div class="options" id="options" style="display:none;"></div>
    <button id="nextBtn">İleri</button>
    <div id="result"></div>
  </div>

  <script>
    const questions = [
      "1. Sevgilimle her konuda rahatça konuşabiliyorum.",
      "2. Tartıştığımızda genellikle ortak bir çözüm buluyoruz.",
      "3. Birbirimizin sınırlarına saygı duyuyoruz.",
      "4. Sevgilimle birlikte zaman geçirmekten keyif alıyorum.",
      "5. Duygusal ihtiyaçlarımızı karşılayabiliyoruz.",
      "6. İlişkimizde karşılıklı güven tam.",
      "7. Sevgilim zor zamanlarımda yanımda oluyor.",
      "8. Aramızdaki çekim ve ilgi güçlü.",
      "9. Anlaşmazlıklarımızda birbirimizi dinlemeye çalışıyoruz.",
      "10. Sevgilimle geleceğe dair ortak planlarımız var."
    ];

    const answersValues = [
      {label: "Kesinlikle Katılıyorum", value: 5},
      {label: "Katılıyorum", value: 4},
      {label: "Kararsızım", value: 3},
      {label: "Katılmıyorum", value: 2},
      {label: "Kesinlikle Katılmıyorum", value: 1},
    ];

    let current = 0;
    let score = 0;

    const startScreen = document.getElementById("startScreen");
    const startBtn = document.getElementById("startBtn");
    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const nextBtn = document.getElementById("nextBtn");
    const resultEl = document.getElementById("result");

    startBtn.onclick = () => {
      startScreen.style.display = "none";
      startBtn.style.display = "none";
      questionEl.style.display = "block";
      optionsEl.style.display = "flex";
      nextBtn.style.display = "inline-block";
      loadQuestion();
    };

    function loadQuestion() {
      resultEl.style.opacity = 0;
      questionEl.classList.add("fade-out");
      optionsEl.classList.add("fade-out");
      nextBtn.disabled = false;

      setTimeout(() => {
        questionEl.textContent = questions[current];
        optionsEl.innerHTML = "";
        answersValues.forEach((ans,i) => {
          const input = document.createElement("input");
          input.type = "radio";
          input.name = "answer";
          input.id = "ans"+i;
          input.value = ans.value;

          const label = document.createElement("label");
          label.htmlFor = "ans"+i;
          label.textContent = ans.label;

          optionsEl.appendChild(input);
          optionsEl.appendChild(label);
        });

        questionEl.classList.remove("fade-out");
        optionsEl.classList.remove("fade-out");
        questionEl.classList.add("fade-in");
        optionsEl.classList.add("fade-in");
      }, 300);
    }

    nextBtn.addEventListener("click", () => {
      const selected = document.querySelector('input[name="answer"]:checked');
      if(!selected){
        alert("Lütfen bir seçenek seç!");
        return;
      }

      score += parseInt(selected.value);
      current++;

      if(current < questions.length){
        loadQuestion();
      } else {
        showResult();
      }
    });

    function showResult(){
      questionEl.style.display = "none";
      optionsEl.style.display = "none";
      nextBtn.style.display = "none";

      const maxScore = questions.length * 5;
      const percent = Math.round((score / maxScore) * 100);

      let message = "";
      if(percent >= 80) message = `Harika! İlişki uyumunuz çok yüksek: %${percent}`;
      else if(percent >= 60) message = `İyi bir uyumunuz var: %${percent}`;
      else if(percent >= 40) message = `Orta seviyede bir uyumunuz var: %${percent}`;
      else message = `Uyumda sorunlar olabilir: %${percent}`;

      resultEl.textContent = message;
      resultEl.style.opacity = 1;

      // Sonucu localStorage'a kaydet
      let results = JSON.parse(localStorage.getItem("testResults")) || {};
      results["❤️ İlişki Uyumu Testi"] = message;
      localStorage.setItem("testResults", JSON.stringify(results));
    }
  </script>
</body>
</html>
